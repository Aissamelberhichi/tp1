{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/auth/Login';import Register from'./components/auth/Register';import Home from'./components/Home';import Navbar from'./components/layout/Navbar';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[user,setUser]=useState(null);useEffect(()=>{// Vérifier si l'utilisateur est déjà connecté\nconst token=localStorage.getItem('token');if(token){setIsAuthenticated(true);// Vous pourriez également récupérer les informations de l'utilisateur ici\n}},[]);const login=(userData,token)=>{localStorage.setItem('token',token);setIsAuthenticated(true);setUser(userData);};const logout=()=>{localStorage.removeItem('token');setIsAuthenticated(false);setUser(null);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{isAuthenticated:isAuthenticated,logout:logout}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Home,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isAuthenticated?/*#__PURE__*/_jsx(Login,{login:login}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!isAuthenticated?/*#__PURE__*/_jsx(Register,{login:login}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","Home","Navbar","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","user","setUser","token","localStorage","getItem","login","userData","setItem","logout","removeItem","children","className","path","element","to"],"sources":["D:/EST/S6/dep/tp1/tp1/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport Home from './components/Home';\nimport Navbar from './components/layout/Navbar';\nimport './App.css';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  \n  useEffect(() => {\n    // Vérifier si l'utilisateur est déjà connecté\n    const token = localStorage.getItem('token');\n    if (token) {\n      setIsAuthenticated(true);\n      // Vous pourriez également récupérer les informations de l'utilisateur ici\n    }\n  }, []);\n  \n  const login = (userData, token) => {\n    localStorage.setItem('token', token);\n    setIsAuthenticated(true);\n    setUser(userData);\n  };\n  \n  const logout = () => {\n    localStorage.removeItem('token');\n    setIsAuthenticated(false);\n    setUser(null);\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar isAuthenticated={isAuthenticated} logout={logout} />\n        <div className=\"container\">\n          <Routes>\n            <Route path=\"/\" element={isAuthenticated ? <Home user={user} /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/login\" element={!isAuthenticated ? <Login login={login} /> : <Navigate to=\"/\" />} />\n            <Route path=\"/register\" element={!isAuthenticated ? <Register login={login} /> : <Navigate to=\"/\" />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACkB,IAAI,CAAEC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAmB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTH,kBAAkB,CAAC,IAAI,CAAC,CACxB;AACF,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,KAAK,CAAGA,CAACC,QAAQ,CAAEJ,KAAK,GAAK,CACjCC,YAAY,CAACI,OAAO,CAAC,OAAO,CAAEL,KAAK,CAAC,CACpCH,kBAAkB,CAAC,IAAI,CAAC,CACxBE,OAAO,CAACK,QAAQ,CAAC,CACnB,CAAC,CAED,KAAM,CAAAE,MAAM,CAAGA,CAAA,GAAM,CACnBL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChCV,kBAAkB,CAAC,KAAK,CAAC,CACzBE,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEP,IAAA,CAACT,MAAM,EAAAyB,QAAA,cACLd,KAAA,QAAKe,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBhB,IAAA,CAACF,MAAM,EAACM,eAAe,CAAEA,eAAgB,CAACU,MAAM,CAAEA,MAAO,CAAE,CAAC,cAC5Dd,IAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxBd,KAAA,CAACV,MAAM,EAAAwB,QAAA,eACLhB,IAAA,CAACP,KAAK,EAACyB,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEf,eAAe,cAAGJ,IAAA,CAACH,IAAI,EAACS,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGN,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAC9FpB,IAAA,CAACP,KAAK,EAACyB,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAE,CAACf,eAAe,cAAGJ,IAAA,CAACL,KAAK,EAACgB,KAAK,CAAEA,KAAM,CAAE,CAAC,cAAGX,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,cAClGpB,IAAA,CAACP,KAAK,EAACyB,IAAI,CAAC,WAAW,CAACC,OAAO,CAAE,CAACf,eAAe,cAAGJ,IAAA,CAACJ,QAAQ,EAACe,KAAK,CAAEA,KAAM,CAAE,CAAC,cAAGX,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,EAClG,CAAC,CACN,CAAC,EACH,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}